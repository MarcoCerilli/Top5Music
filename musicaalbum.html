<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Album Musicali</title>
     <!-- Compiled and minified CSS -->
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
 
     <!-- Compiled and minified JavaScript -->
     <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
<style>

 body {
     
    background-image: url('sfondo musicale.jpg');
    background-size: cover; /* L'immagine copre tutta la pagina */
    background-repeat: no-repeat; /* Evita che l'immagine si ripeta */
    background-position: center; /* Centra l'immagine */
}


h1,h2,td,th,h5,p{
    font-size:x-large ;
    font-weight: bold;
    font-family: cursive;
    font-style:oblique;
    color:black
}
img {
 
    width: 150px;
}
 
 
</style>
    <script>


class hit{
 
    constructor(titolo, autore, anno, url) {
 
        this.titolo = titolo
        this.autore = autore
        this.anno = anno
        this.url = url
    }
}
 
window.onload = gestoreLoad
 
function gestoreLoad() {
 
  

canzoni= []
let b1 = new hit ("hanno ucciso l'uomo ragno", "883", 1992, "https://m.media-amazon.com/images/I/81+pfv435mL._SX300_.jpg")
let b2 = new hit ("Come mai", "883", 1993, "https://m.media-amazon.com/images/I/81ucyS0qb2L._AC_SL1500_.jpg")
let b3 = new hit ("Certe Notti", "Ligabue", 1995, "https://m.media-amazon.com/images/I/71qRn+2e2zL._AC_SL1062_.jpg")
let b4 = new hit ("Antonello Venditti", "Alta Marea", 2000, "https://m.media-amazon.com/images/I/51Xe-TKNQVL.__AC_SX300_SY300_QL70_ML2_.jpg");
canzoni.push(b1)
canzoni.push(b2)
canzoni.push(b3)
canzoni.push(b4)
let nodoTab = document.getElementById("tab")

function popolaTabella() {

    rimuoviFigli(nodoTab)
 
for (let i = 0; i < canzoni.length; i++){
 
    let nodoTr = document.createElement("tr")
    let nodoTitolo = document.createElement("td")
    nodoTitolo.textContent = canzoni[i].titolo
    let nodoAutore = document.createElement("td")
    nodoAutore.textContent = canzoni[i].autore
    let nodoAnno = document.createElement("td")
    nodoAnno.textContent = canzoni[i].anno
    let nodoImg = document.createElement("td")
    let img = document.createElement("img")
    img.src = canzoni[i].url
    nodoImg.appendChild(img)
    nodoTr.appendChild(nodoTitolo)
    nodoTr.appendChild(nodoAutore)
    nodoTr.appendChild(nodoAnno)
    nodoTr.appendChild(nodoImg)
    nodoTab.appendChild(nodoTr)
 
 
}}
popolaTabella()
/*
<option value="" disabled selected>Choose your option</option>
          <option value="1">Option 1</option>
          <option value="2">Option 2</option>
          <option value="3">Option 3</option>
 
 
*/
let nodoS1 = document.getElementById("select1")
let nodoS2 = document.getElementById("select2")
 
function popolaSelect(){
    rimuoviFigli(nodoS1)
    rimuoviFigli(nodoS2)


for (let i = 0; i < canzoni.length; i++) {
 
    let nodoOpt = document.createElement("option")
    nodoOpt.value = i
    nodoOpt.textContent =  "Pos: " + (i+1) + " " + canzoni[i].titolo
 
 
 
    let nodoOpt1 = document.createElement("option")
    nodoOpt1.value = i
    nodoOpt1.textContent =   "Pos: " + (i+1) + " " + canzoni[i].titolo
 
    nodoS1.appendChild(nodoOpt)
    nodoS2.appendChild(nodoOpt1)
}
 
var elems = document.querySelectorAll('select');
    var instances = M.FormSelect.init(elems);
 
 
}
 
popolaSelect()

 
let btn = document.getElementById("btn")
 
btn.onclick = cambia
 
function cambia(){
 
    let l1 = parseInt(document.getElementById("select1").value)
    let l2 = parseInt(document.getElementById("select2").value)
 //assegnamo a hit la canzone presente nella lista l2
 //assegniamo all'elemento della lista in posizione l2 l'elemento della listain posizione l1
 //assegniamo l'elemento della lista in posizione l1 la variabile hit
 
 let canzone= canzoni[l2]

 canzoni[l2]= canzoni[l1]

 canzoni[l1]= canzone

 popolaTabella()
 popolaSelect()
}
function rimuoviFigli (nodo) {
 while (nodo.childNodes.length > 0) {
 
 nodo.removeChild(nodo.firstChild);

 }}


let btn1 = document.getElementById ("btn1")
btn1.onclick = aggiungi

function Aggiungi(){

let titolo = document.getElementById ("titolo").value
let autore = document.getElementById ("autore").value
let anno = document.getElementById ("anno").value
let url = document.getElementById ("url").value
let posizione = document.getElementById ("posizione").value

if (titolo != "" && autore != "" && anno != "" && url != "" && posizione >= 1 && posizione<= 5) {

    let l1 = new canzone(titolo, autore, anno, url)
    canzoni[posizione-1] = l1
    popolaTabella()
    popolaSelect()}

    else alert("Devi compilare tutti i campi")
}



}

    </script>
</head>
<body>
    <div class="container">
        <h1>I miei Album</h1>
        <div class="input-field col s12">
            <select id = "select1">
 
            </select>
            <label>Seleziona la prima canzone</label>
          </div>
          <hr>
          <div class="input-field col s12">
            <select id = "select2">
 
            </select>
            <label>Seleziona la seconda canzone</label>
          </div>
 
          <button id = "btn">Cambia posizione</button>
    <table>

        <thead>
          <tr>
              <th>Posizione</th>
              <th>Titolo</th>
              <th>Autore</th>
              <th>Anno di pubblicazione</th>
              <th>Immagine</th>
          </tr>
        </thead>
 
        <tbody id = "tab">
 
        </tbody>
      </table> 

<h3>   Aggiungi una canzone alla classifica   </h3>
Titolo:
<br>
<input type = "text" required id = "titolo" value = "">
<br>
Autore:
<br>
<input type = "text" required id = "autore" value = "">
<br>
Anno:
<br>
<input type = "text" required id = "anno" value = "">
<br>
Url:
<br>

<input type = "text" required id = "url" value = "">
<br>
Posizione:
<br>
<input type = "number" required id = "posizione" min="1" max="5" value = "5">
<br>
<button id = "btn1">Aggiungi</button>

      <div style="margin-top: 30px;">
        <h2>Guarda un video musicale</h2>

        <iframe width="300" height="150" 
        src="https://www.youtube.com/embed/PMWKsbMeLZs?si=xq0uaal4P8ExzXqE"
         title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; 
         picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" 
         allowfullscreen></iframe>
</iframe>

    </div>
 
    </div>
</body>
